<div class="dashboard-home">
  <app-page-header
    title="Overview"
    subtitle="Monitora le performance key di business e l'attività dei clienti"
  ></app-page-header>

  <div class="stats-grid">
    <app-stat-card
      title="Fatturato Totale"
      [value]="
        (totalRevenue() | currency : 'EUR' : 'symbol' : '1.2-2') || '€ 0,00'
      "
      icon="pi-dollar"
      colorClass="blue"
    >
    </app-stat-card>

    <app-stat-card
      title="Ordini in Attesa"
      [value]="pendingOrders().toString()"
      icon="pi-clock"
      colorClass="purple"
    >
    </app-stat-card>

    <app-stat-card
      title="Clienti Attivi"
      [value]="activeCustomers().toString()"
      icon="pi-check-circle"
      colorClass="green"
    >
    </app-stat-card>

    <app-stat-card
      title="Totale Clienti"
      [value]="totalCustomers().toString()"
      icon="pi-users"
      colorClass="orange"
    >
    </app-stat-card>
  </div>

  <div class="charts-section">
    <div class="chart-container main-chart">
      <div class="chart-header">
        <h3 class="font-bold mb-2">
          Andamento Finanziario {{ selectedYear() }}
        </h3>
        <p-select
          [options]="years"
          [(ngModel)]="selectedYear"
          (onChange)="onYearChange($event)"
          class="chart-filter"
          [style]="{ 'min-width': '100px' }"
        ></p-select>
      </div>

      <app-revenue-chart
        [orders]="orders()"
        [year]="selectedYear()"
      ></app-revenue-chart>
    </div>
  </div>
</div>
