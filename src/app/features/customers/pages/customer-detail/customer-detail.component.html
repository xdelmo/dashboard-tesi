<div class="dashboard-container" *ngIf="customer$ | async as customer">
  <app-page-header
    [title]="'Dettaglio Cliente: ' + customer.name"
    subtitle="Visualizza le informazioni complete del cliente"
  ></app-page-header>

  <main class="content-area">
    <div class="detail-card">
      <div class="detail-header">
        <h2>Informazioni Generali</h2>
        <span
          class="status-badge"
          [ngClass]="customer.status.toLowerCase()"
          >{{ customer.status }}</span
        >
      </div>

      <div class="detail-grid">
        <div class="field">
          <label>ID CLiente</label>
          <p>#{{ customer.id }}</p>
        </div>
        <div class="field">
          <label>Email</label>
          <p>{{ customer.email }}</p>
        </div>
        <div class="field">
          <label>Azienda</label>
          <p>{{ customer.company }}</p>
        </div>
        <div class="field">
          <label>Fatturato Annuo</label>
          <p class="revenue">{{ customer.revenue | currency : "EUR" }}</p>
        </div>
      </div>

      <div class="actions">
        <button [routerLink]="['/customers']">Torna alla lista</button>
        <button class="delete-btn" (click)="deleteCustomer(customer.id)">Elimina</button>
      </div>
    </div>
  </main>
</div>

<ng-template #loading>
  <div class="loading-state">
    <div class="spinner"></div>
    <p>Caricamento dettagli cliente...</p>
  </div>
</ng-template>

